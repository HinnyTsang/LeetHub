class Solution {
public:
    int numTrees(int n) {
        // 0 -> 1
        // 1 -> 1
        // 2 -> (0)1*(1)1 + (1)1*(0)1 = 2
        // 3 -> (2)2*(0)1 + (1)1*(1)1 + (0)1*(2)2 = 5
        // 4 -> (3)5*(0)1 + (2)2*(1)1 + (1)1*(2)2 + (0)1*(3)5 = 14
        // 5 -> (4)14*(0)1 + (3)5*(1)1 + (2)2*(2)2 + (1)1*(3)5 + (0)1*(4)14 = 42
        // 6 -> 132
        
        int* dp = new int [n + 1]();
        
        dp[0] = dp[1] = 1;
        
        for (int i = 2; i <= n; ++i) {
            for (int j = 0; j < i; ++j) {
                dp[i] += dp[j] * dp[i - j - 1];
            }
        }
        
        return dp[n];
    }
};